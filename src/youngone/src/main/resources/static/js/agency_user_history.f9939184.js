"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[815],{809:function(e,t,s){s.r(t),s.d(t,{default:function(){return O}});var a=s(3396),i=s(7139);const l={class:"agency_user_history"},n={key:0,class:"app-bar bg-hero fg-white","data-role":"appbar"},r={href:"/#/agency",class:"brand no-hover"},o={style:{"max-width":"200px","white-space":"nowrap"},class:"mif-home"},c=(0,a._)("span",{class:"mif-cart"}," Order",-1),d=[c],f=(0,a._)("span",{class:"mif-help"}," Emergency",-1),h=[f],u=(0,a._)("span",{class:"mif-devices"}," Device Status",-1),m=[u],y=(0,a.uE)('<ul class="app-bar-menu"><li><a href="/#/agency"><span class="mif-home"> 메인</span></a></li><li><a href="/#/agency/user/list"><span class="mif-list"> 제품 설치 목록</span></a></li><li><a href="/#/agency/user/add"><span class="mif-wrench"> 제품 설치 등록</span></a></li><li><a href="/#/agency/chpw"><span class="mif-key"> 비밀번호 변경</span></a></li><li><a href="/"><span class="mif-exit"> 로그아웃</span></a></li></ul>',1),p={class:"container-fluid docs-content",style:{height:"auto !important","margin-top":"60px"}},g=["data-title-caption"],v={class:"grid"},w=(0,a.uE)('<div class="row"><div class="cell"><div class="d-flex flex-justify-center" style="font-weight:bold;">Cylinder &amp; Syrups</div></div><div class="cell"><div class="d-flex flex-justify-center" style="font-weight:bold;">Filters</div></div><div class="cell"><div class="d-flex flex-justify-center" style="color:red;font-weight:bold;">Emergency</div></div></div>',1),_={class:"row"},$={class:"cell"},I={class:"d-flex flex-justify-center"},b={class:"cell"},k={class:"d-flex flex-justify-center"},x={class:"cell"},E={class:"d-flex flex-justify-center",style:{color:"red","font-weight":"bold"}},D=(0,a._)("br",null,null,-1),q=(0,a._)("h4",null,"History",-1),C={class:"table table-border cell-border"},z=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Date"),(0,a._)("th",null,"증상"),(0,a._)("th",null,"원인"),(0,a._)("th",null,"조치")])],-1);function H(e,t,s,c,f,u){return(0,a.wg)(),(0,a.iD)("div",l,[f.show.menu?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("a",r,[(0,a._)("span",o,(0,i.zw)(" "+f.info.titleNm),1)]),this.$route.query.mcId?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:0,onClick:t[0]||(t[0]=e=>u.move("ORDER")),class:"app-bar-item"},d)),(0,a._)("a",{onClick:t[1]||(t[1]=e=>u.move("EMERGENCY")),class:"app-bar-item text-upper"},h),this.$route.query.mcId?((0,a.wg)(),(0,a.iD)("a",{key:1,onClick:t[2]||(t[2]=e=>u.move("DEVICE")),class:"app-bar-item"},m)):(0,a.kq)("",!0),y])):(0,a.kq)("",!0),(0,a._)("div",p,[f.info.show?((0,a.wg)(),(0,a.iD)("div",{key:0,"data-role":"panel","data-title-caption":"Total Order "+f.info.total,"data-title-icon":"<span class='mif-news'></span>"},[(0,a._)("div",v,[w,(0,a._)("div",_,[(0,a._)("div",$,[(0,a._)("div",I,(0,i.zw)(f.info.nonfilters),1)]),(0,a._)("div",b,[(0,a._)("div",k,(0,i.zw)(f.info.filters),1)]),(0,a._)("div",x,[(0,a._)("div",E,(0,i.zw)(f.info.emergency),1)])])])],8,g)):(0,a.kq)("",!0),D,q,(0,a._)("table",C,[z,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.histories,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.seq},[(0,a._)("td",null,(0,i.zw)(e.date),1),(0,a._)("td",null,(0,i.zw)(e.symptCntn),1),(0,a._)("td",null,(0,i.zw)(e.causeDesc),1),(0,a._)("td",null,(0,i.zw)(e.actnCntn),1)])))),128))])])])])}var j=s(7877),N={name:"UserHistoryView",components:{},mounted:function(){this.$data.params.mcId=this.$route.query.mcId,this.$data.show.menu=!0,this.$route.query.mcId?this.getUserInfo():this.getInfo(),this.getHistory()},data(){return{params:{mcId:""},info:{titleNm:"",show:!1,total:0,filters:0,nonfilters:0,emergency:0},histories:[],show:{menu:!1}}},methods:{async getUserInfo(){(0,j.v)("/api/agency/user/info",{mcId:this.$route.query.mcId}).then((e=>this.resultUserInfo(e.data))).catch((e=>{alert(e)}))},resultUserInfo(e){console.log(e),this.$data.info.filters=e.filters,this.$data.info.nonfilters=e.nonfilters,this.$data.info.emergency=e.emergency,this.$data.info.total=e.filters+e.nonfilters,this.$data.info.titleNm=e.mcId,this.$data.info.show=!0},async getInfo(){(0,j.v)("/api/agency/info",null).then((e=>this.result(e.data))).catch((e=>{alert(e)}))},result(e){console.log("getInfo",e),this.$data.info.filters=e.filters,this.$data.info.nonfilters=e.nonfilters,this.$data.info.emergency=e.emergency,this.$data.info.total=e.filters+e.nonfilters,this.$data.info.titleNm=e.nm,this.$data.info.show=!0},move(e){console.log(e),"EMERGENCY"==e?this.$router.push({name:"agency_user_emergency",query:{mcId:this.$data.params.mcId}}):"ORDER"==e?this.$router.push({name:"agency_user_order",query:{mcId:this.$data.params.mcId}}):"DEVICE"==e&&this.$router.push({name:"agency_user_device",query:{mcId:this.$data.params.mcId}})},async getHistory(){(0,j.v)("/api/agency/user/history/list",this.$data.params).then((e=>this.resultHistory(e.data))).catch((e=>{alert(e)}))},resultHistory(e){console.log("resultHistory",e),this.$data.histories=e}}},R=s(89);const U=(0,R.Z)(N,[["render",H]]);var O=U}}]);
//# sourceMappingURL=agency_user_history.f9939184.js.map