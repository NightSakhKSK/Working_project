"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[167],{8841:function(e,t,s){s.r(t),s.d(t,{default:function(){return F}});var l=s(3396),a=s(7139);const i={class:"agency"},r={key:0,class:"app-bar bg-hero fg-white","data-role":"appbar"},n={href:"/#/agency",class:"brand no-hover"},c={style:{"max-width":"200px","white-space":"nowrap"},class:"mif-home"},d=(0,l._)("span",{class:"mif-cart"}," Order",-1),o=[d],u=(0,l._)("span",{class:"mif-help"}," Emergency",-1),m=[u],h=(0,l.uE)('<ul class="app-bar-menu"><li><a href="/#/agency"><span class="mif-home"> 메인</span></a></li><li><a href="/#/agency/user/list"><span class="mif-list"> 제품 설치 목록</span></a></li><li><a href="/#/agency/user/add"><span class="mif-wrench"> 제품 설치 등록</span></a></li><li><a href="/#/agency/chpw"><span class="mif-key"> 비밀번호 변경</span></a></li><li><a href="/"><span class="mif-exit"> 로그아웃</span></a></li></ul>',1),y={class:"container-fluid docs-content",style:{height:"auto !important","margin-top":"60px"}},f=["data-title-caption"],g={class:"grid"},p=(0,l.uE)('<div class="row"><div class="cell"><div class="d-flex flex-justify-center" style="font-weight:bold;"> Cylinder &amp; Syrups </div></div><div class="cell"><div class="d-flex flex-justify-center" style="font-weight:bold;"> Filters </div></div><div class="cell"><div class="d-flex flex-justify-center" style="color:red;font-weight:bold;"> Emergency </div></div></div>',1),v={class:"row"},w={class:"cell"},_={class:"d-flex flex-justify-center"},I={class:"cell"},$={class:"d-flex flex-justify-center"},q={class:"cell"},k={class:"d-flex flex-justify-center",style:{color:"red","font-weight":"bold"}},D=(0,l._)("br",null,null,-1),b=(0,l._)("h4",null,"History List",-1),x={class:"table table-border cell-border"},E=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Date"),(0,l._)("th",null,"ID"),(0,l._)("th",null,"Order"),(0,l._)("th",null,"Qty")])],-1),C=["onClick"],O={key:0,class:"move"},R={class:"grid"},z=["onClick"],L=["onClick"],j={key:2,class:"move"},N={class:"grid"},Y={class:"cell"},H={key:3};function U(e,t,s,d,u,U){return(0,l.wg)(),(0,l.iD)("div",i,[u.show.menu?((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("a",n,[(0,l._)("span",c,(0,a.zw)(" "+u.titleNm),1)]),(0,l._)("a",{onClick:t[0]||(t[0]=e=>U.move("ORDER")),class:"app-bar-item text-upper"},o),this.$route.query.mcId?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("a",{key:0,onClick:t[1]||(t[1]=e=>U.move("EMERGENCY")),class:"app-bar-item text-upper"},m)),h])):(0,l.kq)("",!0),(0,l._)("div",y,[u.show.summary?((0,l.wg)(),(0,l.iD)("div",{key:0,"data-role":"panel","data-title-caption":"Total Orders "+u.total,"data-title-icon":"<span class='mif-news'></span>"},[(0,l._)("div",g,[p,(0,l._)("div",v,[(0,l._)("div",w,[(0,l._)("div",_,(0,a.zw)(u.nonfilters),1)]),(0,l._)("div",I,[(0,l._)("div",$,(0,a.zw)(u.filters),1)]),(0,l._)("div",q,[(0,l._)("div",k,(0,a.zw)(u.emergency),1)])])])],8,f)):(0,l.kq)("",!0),D,b,(0,l._)("table",x,[E,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.orderList.filter((e=>"ORDER"==e.tp)),(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.seq},[(0,l._)("td",null,(0,a.zw)(e.date),1),(0,l._)("td",{class:"move",onClick:t=>U.move(e.tp,e.mcId?e.mcId:this.$route.query.mcId)},(0,a.zw)(e.mcId?e.mcId:this.$route.query.mcId),9,C),"ORDER"==e.tp?((0,l.wg)(),(0,l.iD)("td",O,[(0,l._)("div",R,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"row",key:"nm_"+e.seq+"_"+t.seq},[(0,l._)("div",{class:"cell",onClick:t=>U.move(e.tp,e.mcId?e.mcId:this.$route.query.mcId,e.seq)},(0,a.zw)(t.nm),9,z)])))),128))])])):((0,l.wg)(),(0,l.iD)("td",{key:1,class:"move",onClick:t=>U.move(e.tp,e.mcId?e.mcId:this.$route.query.mcId,e.seq)},"Emergency",8,L)),"ORDER"==e.tp?((0,l.wg)(),(0,l.iD)("td",j,[(0,l._)("div",N,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"row",key:"qty_"+e.seq+"_"+t.seq},[(0,l._)("div",Y,(0,a.zw)(t.qty),1)])))),128))])])):((0,l.wg)(),(0,l.iD)("td",H))])))),128))])])])])}var K=s(7877),G={name:"AgencyView",components:{},mounted:function(){this.$data.show.menu=!0,this.$route.query.mcId?this.getUserInfo():this.getInfo(),this.getOrderList()},data(){return{titleNm:"",total:0,filters:0,nonfilters:0,emergency:0,process:{filters:0,nonfilters:0,emergency:0},show:{menu:!1,summary:!1,donut:0},orderList:[]}},methods:{async getUserInfo(){(0,K.v)("/api/agency/user/info",{mcId:this.$route.query.mcId}).then((e=>this.resultUserInfo(e.data))).catch((e=>{alert(e)}))},resultUserInfo(e){console.log(e),this.$data.filters=e.filters,this.$data.nonfilters=e.nonfilters,this.$data.emergency=e.emergency,this.$data.total=e.filters+e.nonfilters,this.$data.titleNm=e.mcId,this.$data.show.summary=!0,this.$data.show.donut|=1},async getInfo(){(0,K.v)("/api/agency/info",null).then((e=>this.result(e.data))).catch((e=>{alert(e)}))},result(e){console.log("getInfo",e),this.$data.filters=e.filters,this.$data.nonfilters=e.nonfilters,this.$data.emergency=e.emergency,this.$data.total=e.filters+e.nonfilters,this.$data.titleNm=e.nm,this.$data.show.summary=!0,this.$data.show.donut|=1},async getOrderList(){(0,K.v)("/api/agency/user/history/order/list",{mcId:this.$route.query.mcId}).then((e=>this.resultOrderList(e.data))).catch((e=>{alert(e)}))},resultOrderList(e){console.log(e),this.$data.orderList=e},move(e,t,s){"EMERGENCY"==e?this.$router.push({name:"agency_user_emergency",query:{mcId:t||this.$route.query.mcId,seq:s}}):"ORDER"==e&&(t||this.$route.query.mcId?this.$router.push({name:"agency_user_order",query:{mcId:t||this.$route.query.mcId,seq:s}}):this.$router.push({name:"agency_user_history_order",query:{seq:s}}))}}},M=s(89);const A=(0,M.Z)(G,[["render",U]]);var F=A}}]);
//# sourceMappingURL=agency_user_history_order.4d23c084.js.map